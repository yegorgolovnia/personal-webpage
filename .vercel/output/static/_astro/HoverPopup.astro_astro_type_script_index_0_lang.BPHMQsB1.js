import{G as H,T as c}from"./glitch.V18znCD7.js";document.getElementById("sidebar-scene");const o=document.getElementById("hover-sidebar"),b=document.getElementById("stretch-canvas");if(o&&b){let T=function(){p.triggerEntrance()},x=function(e){setTimeout(()=>{E(e),f.style.opacity="1"},150)},L=function(e){if(window.innerWidth<1024||window.matchMedia("(prefers-reduced-motion: reduce)").matches||e===i)return;a(),i=e,[e.querySelector("h3")].forEach(t=>{if(t){const d=t.getBoundingClientRect();t.style.width=`${d.width}px`,t.style.height=`${d.height}px`,t.style.display="inline-block",t.style.overflow="visible";const n=new c(t);h.push(n),n.setText(t.innerText,"encrypt"),t.classList.add("encrypted-row-text");const r=u.get(n);r&&clearTimeout(r);const l=setTimeout(()=>{n.restoreInstant(),n.el.classList.remove("encrypted-row-text"),n.el.style.width="",n.el.style.height="",n.el.style.display="",n.el.style.overflow="",u.delete(n)},400);u.set(n,l)}})},a=function(){i&&(h.forEach(e=>{e.el.classList.remove("encrypted-row-text"),e.el.style.width="",e.el.style.height="",e.el.style.display="",e.el.style.overflow="",e.restoreInstant()}),h=[],i=null)},S=function(e){if(window.innerWidth<1024)return;clearTimeout(g);const s=e.dataset.hoverData;if(s)try{const t=JSON.parse(s);L(e),y?x(t):(E(t),f.style.opacity="1",o.classList.remove("hidden"),o.classList.add("visible"),T(),document.body.classList.add("hover-sidebar-open"),y=!0)}catch(t){console.error(t)}},m=function(){g=setTimeout(()=>{p.triggerExit(),o.classList.remove("visible"),o.classList.add("hidden"),document.body.classList.remove("hover-sidebar-open"),y=!1},100)};const p=new H(b),f=o.querySelector(".content-wrapper"),q=o.querySelector(".role-title"),C=o.querySelector(".company-sub"),R=o.querySelector(".location-date"),v=o.querySelector(".details-list"),w=o.querySelector(".tags-row");let g;const u=new WeakMap;let y=!1,i=null,h=[];const A=new c(q),B=new c(C),I=new c(R),E=e=>{A.setText(e.role||e.title||"","normal"),B.setText(e.company||e.subtitle||"","normal");const s=e.location?e.location.toUpperCase():"",t=e.period||e.year||"",d=[s,t].filter(Boolean).join(" â€¢ ");I.setText(d,"normal"),v.innerHTML="",e.hover_bullets&&Array.isArray(e.hover_bullets)&&e.hover_bullets.slice(0,3).forEach(n=>{const r=document.createElement("li");v.appendChild(r);const l=new c(r);r.innerText="",l.setText(n,"normal")}),w.innerHTML="",e.tags&&Array.isArray(e.tags)&&e.tags.forEach(n=>{const r=document.createElement("span");r.className="pill",w.appendChild(r);const l=new c(r);r.innerText="",l.setText(n,"normal")})};document.addEventListener("mouseover",e=>{const s=e.target.closest(".hover-trigger");s&&S(s)}),document.addEventListener("mouseout",e=>{const s=e.target.closest(".hover-trigger");s&&(s.contains(e.relatedTarget)||(a(),m()))}),document.addEventListener("mousemove",e=>{i&&!i.contains(e.target)&&(a(),m())}),window.addEventListener("scroll",()=>{i&&(a(),m())},{passive:!0})}
